# 의사결정나무 

  - 데이터들이 가진 속성들로부터 패턴을 찾아내서 분류 과제를 수행할 수 있도록 하는 지도학습 머신러닝 모델
  - 전체 데이터 셋을 몇개의 소그룹(끝마디)으로 분류하는데, 각각의 소그룹에는 목표변수의 라벨이 하나로 집중
  - 뿌리마디 (Rootnode) = 전체 데이터 
  - 범주형 벡터일 때 분류모형을 적합하고, 연속형 벡터일때 회귀모형을 적합
  - 의사결정나무는 불순도를 감소시키는 기준으로 나무를 성장시킴
  - 비모수적 알고리즘 , 이상치에는 선형회귀모형보다 덜 민감하다 
  - 결측값이 있어도 모형을 만들 수 있음 
  - 치명적인 단점 : 과적합하기 쉽다. 
  - 단점 커버를 위해서 정지 규칙을 설정해야 함 
  - 적합된 분류모형으로 가지치기는 사후 가지치기 (파이썬 주피터 노트북 사용 불가) 
  
  
  *CART 
  - 분류모형은 지니지수를 이용하여 불수도를 계산 
  - 가지 분리는 안되고 부모마디를 2개의 자식마디로 분리하는 이지분리만 된다 
  - rpart 패키지의 rpart() 함수를 사용 
 
 
*의사결정나무 프로세스 
- 뿌리마디로부터 출발하여, 부모마디보다 자식마디의 불순도가 낮아지는 최적의 분리규칙이 있을때 나무를 성장
- 정지규칙을 만족할 때 성장을 중단
- 나무 모형을 적합하고 나면 과적합을 피해 불필요한 가지를 잘라내는 가지치기를 하여 나무모형을 완성
- 다수의 분류모형을 적합했다면 다양한 성능지표등을 활용하여 각각의 후보모형의 성능을 평가하고 최종모형을 결정

*분리규칙 
- 분리규칙은 각 마디에서 목표변수를 가장 잘 분리하는 입력변수와 분리기준으로 정해짐
- ex) 예를들어 ‘나이:40세’ , ‘자택주소:서울’ ,‘직업:직장인’등
- 분리규칙이 결정되는 기준은 불순도를 사용하는데,부모마디에 비해 자식마디의 불순도가 낮아지는 경우에만 분리


*지니지수
- CART 알고리즘은 불순도 지표로 지니지수를 사용
- 지니지수는 0~0. 5값을 갖습니다.
- 이진분리의경우,두 범주가 정확하게 5:5일때 (즉,pj가각1/2일때) 지니지수는 0.5

*엔트로피 
- 엔트로피는 정보이론(InformationTheory)에서 사용되는 용어
- 엔트로피는 무질서도 또는 불확실성을 가리키며, 0~1사이의 값을 갖습니다
- 엔트로피 분리규칙은 정보이득(InformationGain)을 기준
 (정보이득은 부모마디의 엔트로피에서 자식마디의 엔트로피를 차감한 값)
 
* 기준값 30이상으로 파내지는 않는다









